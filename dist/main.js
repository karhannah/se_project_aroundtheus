!function(){"use strict";class e{constructor(e,t,n){let{name:r,link:i}=e;this.name=r,this.link=i,this._cardSelector=t,this._handleImageClick=n}getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick(this)}))}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_is-active")}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=this.getTemplate(),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitleElement=this._cardElement.querySelector(".card__title"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImageElement.src=this.link,this._cardTitleElement.textContent=this.name,this._cardImageElement.alt=this.name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._settings=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._buttonElement=this._formElement.querySelector(this._settings.submitButtonSelector)}showInputError(e,t){const n=this._formElement.querySelector(`#${e.id}-error`);console.log(n),e.classList.add(this._settings.inputErrorClass),n.textContent=t,n.classList.add(this._settings.errorClass)}hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass),t.textContent=""}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this.hideInputError(e)}))}checkInputValidity(e){e.validity.valid?this.hideInputError(e):this.showInputError(e,e.validationMessage)}toggleButtonState(){this.hasInvalidInput()?(this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._settings.inactiveButtonClass),this._buttonElement.disabled=!1)}hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this.toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this.checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}}document.querySelector("#card-template").content.querySelector(".card");const n=document.querySelector(".gallery__cards"),r=document.querySelector("#profile__add-button"),i=document.querySelector("#profile__title"),o=document.querySelector("#profile__description"),s=document.querySelector("#modal__title"),a=document.querySelector("#modal__description"),l=document.querySelector("#profile__edit-button"),c=document.querySelector("#profileEditModal"),d=document.querySelector("#profile__edit-modal-close"),u=document.querySelector("#profile-form"),m=document.querySelector("#cardModal"),_=document.querySelector("#profile__add-modal-close"),h=document.querySelector("#add-form"),p=m.querySelector("#modal__new-title"),E=m.querySelector("#modal__new-description"),g=document.querySelector("#previewImageModal"),v=g.querySelector(".modal__image"),y=g.querySelector(".modal__caption"),S=g.querySelector(".modal__close"),f={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},L=new t(f,h);L.enableValidation();const k=new t(f,u);function q(e){e.classList.add("modal_opened"),document.addEventListener("keydown",b),e.addEventListener("mousedown",C)}function w(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",b),e.removeEventListener("mousedown",C)}function b(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&w(e)}}function C(e){e.target===e.currentTarget&&w(e.currentTarget)}function I(t,n){const r=function(t){return new e(t,"#card-template",B).getView()}(t);n.prepend(r)}function B(e){v.src=e.link,y.textContent=e.name,v.alt=e.name,q(g)}k.enableValidation(),l.addEventListener("click",(()=>{s.value=i.textContent,a.value=o.textContent.trim(),q(c),k.resetValidation()})),d.addEventListener("click",(()=>w(c))),_.addEventListener("click",(()=>w(m))),S.addEventListener("click",(()=>w(g))),u.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=s.value,o.textContent=a.value,w(c)})),r.addEventListener("click",(()=>q(m))),h.addEventListener("submit",(function(e){e.preventDefault(),I({name:p.value,link:E.value},n),e.target.reset(),L.resetValidation(),w(m)})),[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}].forEach((e=>I(e,n)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBd0JpQyxNQUFRbkMsRUFBbUJ4QyxZQUFZNEUsT0FDL0RsQixFQUFVZCxHQUNWYSxFQUFxQmhDLGlCQUFpQixJQUd4Q29CLEVBQXNCekQsaUJBQWlCLFNBQVMsSUFDOUMwRSxFQUFXbEIsS0FFYkksRUFBZTVELGlCQUFpQixTQUFTLElBQU0wRSxFQUFXZixLQUMxRFEsRUFBZ0JuRSxpQkFBaUIsU0FBUyxJQUFNMEUsRUFBV1YsS0FFM0ROLEVBQWlCMUQsaUJBQWlCLFVBL0JsQyxTQUFpQ3lGLEdBQy9CQSxFQUFFQyxpQkFDRnZDLEVBQWF2QyxZQUFjeUMsRUFBa0JrQyxNQUM3Q25DLEVBQW1CeEMsWUFBYzBDLEVBQXdCaUMsTUFDekRiLEVBQVdsQixFQUNiLElBMkJBTixFQUFpQmxELGlCQUFpQixTQUFTLElBQU1zRSxFQUFVWCxLQUMzREUsRUFBUzdELGlCQUFpQixVQTFCMUIsU0FBNkJ5RixHQUMzQkEsRUFBRUMsaUJBR0ZULEVBQVcsQ0FBRTdGLEtBRkEwRSxFQUFleUIsTUFFVGxHLEtBRE4wRSxFQUFld0IsT0FDRHRDLEdBQzNCd0MsRUFBRVYsT0FBT1ksUUFDVHZCLEVBQXFCL0Isa0JBQ3JCcUMsRUFBV2YsRUFDYixJQXBJcUIsQ0FDbkIsQ0FDRXZFLEtBQU0sa0JBQ05DLEtBQU0sc0dBRVIsQ0FDRUQsS0FBTSxjQUNOQyxLQUFNLHlHQUVSLENBQ0VELEtBQU0saUJBQ05DLEtBQU0sNEdBRVIsQ0FDRUQsS0FBTSxVQUNOQyxLQUFNLHFHQUVSLENBQ0VELEtBQU0sd0JBQ05DLEtBQU0scUdBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSxtR0FrSUdrRCxTQUFTMkMsR0FBYUQsRUFBV0MsRUFBVWpDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmsgfSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgfVxuXG4gIGdldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMubGluaztcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5uYW1lO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLmhpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuaGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG4vLyBJbml0aWFsIGNhcmRzIGRhdGFcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG4vLyBFbGVtZW50c1xuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKVxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG5jb25zdCBjYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkc1wiKTtcbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX3RpdGxlXCIpO1xuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9fdGl0bGVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUVkaXRNb2RhbFwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWxDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGVfX2VkaXQtbW9kYWwtY2xvc2VcIlxuKTtcbmNvbnN0IHByb2ZpbGVNb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZm9ybVwiKTtcbmNvbnN0IGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZE1vZGFsXCIpO1xuY29uc3QgY2FyZE1vZGFsQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2FkZC1tb2RhbC1jbG9zZVwiKTtcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtZm9ybVwiKTtcbmNvbnN0IGNhcmRUaXRsZUlucHV0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX25ldy10aXRsZVwiKTtcbmNvbnN0IGNhcmRJbWFnZUlucHV0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX25ldy1kZXNjcmlwdGlvblwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3SW1hZ2VNb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZUltYWdlRWwgPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZVRleHRFbCA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBjbG9zZUltYWdlTW9kYWwgPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcblxuLy8gRm9ybSBzZXR0aW5nc1xuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vIEVuYWJsZSBmb3JtIHZhbGlkYXRpb25cbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGNhcmRGb3JtKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgcHJvZmlsZU1vZGFsRm9ybSk7XG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIEZ1bmN0aW9uc1xuZnVuY3Rpb24gb3BlblBvcHVwKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlTW9kYWxFc2NhcGUpO1xuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGNsb3NlTW9kYWxPdmVybGF5KTtcbn1cblxuZnVuY3Rpb24gY2xvc2VQb3B1cChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjYXBlKTtcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjbG9zZU1vZGFsT3ZlcmxheSk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWxFc2NhcGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IG9wZW5Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xuICAgIGlmIChvcGVuTW9kYWwpIHtcbiAgICAgIGNsb3NlUG9wdXAob3Blbk1vZGFsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbE92ZXJsYXkoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgIGNsb3NlUG9wdXAoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkQ2FyZChjYXJkRGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIFwiI2NhcmQtdGVtcGxhdGVcIiwgaGFuZGxlSW1hZ2VDbGljayk7XG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcbn1cblxuLy8gUmVuZGVyIGNhcmQgZnVuY3Rpb24gdXNpbmcgQ2FyZCBjbGFzc1xuZnVuY3Rpb24gcmVuZGVyQ2FyZChjYXJkRGF0YSwgY2FyZExpc3RFbCkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGFkZENhcmQoY2FyZERhdGEpO1xuICBjYXJkTGlzdEVsLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xufVxuXG4vLyBJbWFnZSBjbGljayBoYW5kbGVyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmRJbnN0YW5jZSkge1xuICBwcmV2aWV3SW1hZ2VJbWFnZUVsLnNyYyA9IGNhcmRJbnN0YW5jZS5saW5rO1xuICBwcmV2aWV3SW1hZ2VUZXh0RWwudGV4dENvbnRlbnQgPSBjYXJkSW5zdGFuY2UubmFtZTtcbiAgcHJldmlld0ltYWdlSW1hZ2VFbC5hbHQgPSBjYXJkSW5zdGFuY2UubmFtZTtcbiAgb3BlblBvcHVwKHByZXZpZXdJbWFnZU1vZGFsKTtcbn1cblxuLy8gSGFuZGxlcnNcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWU7XG4gIGNsb3NlUG9wdXAocHJvZmlsZUVkaXRNb2RhbCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IG5hbWUgPSBjYXJkVGl0bGVJbnB1dC52YWx1ZTtcbiAgY29uc3QgbGluayA9IGNhcmRJbWFnZUlucHV0LnZhbHVlO1xuICByZW5kZXJDYXJkKHsgbmFtZSwgbGluayB9LCBjYXJkTGlzdEVsKTtcbiAgZS50YXJnZXQucmVzZXQoKTtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGNsb3NlUG9wdXAoY2FyZE1vZGFsKTtcbn1cblxuLy8gRXZlbnQgTGlzdGVuZXJzXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQudHJpbSgpO1xuICBvcGVuUG9wdXAocHJvZmlsZUVkaXRNb2RhbCk7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbnByb2ZpbGVFZGl0TW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgY2xvc2VQb3B1cChwcm9maWxlRWRpdE1vZGFsKVxuKTtcbmNhcmRNb2RhbENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZVBvcHVwKGNhcmRNb2RhbCkpO1xuY2xvc2VJbWFnZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZVBvcHVwKHByZXZpZXdJbWFnZU1vZGFsKSk7XG5cbnByb2ZpbGVNb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCk7XG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuUG9wdXAoY2FyZE1vZGFsKSk7XG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuXG4vLyBSZW5kZXIgaW5pdGlhbCBjYXJkc1xuaW5pdGlhbENhcmRzLmZvckVhY2goKGNhcmREYXRhKSA9PiByZW5kZXJDYXJkKGNhcmREYXRhLCBjYXJkTGlzdEVsKSk7XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJuYW1lIiwibGluayIsInRoaXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJnZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJfZGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZEltYWdlRWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9jYXJkRWxlbWVudCIsInJlbW92ZSIsImdldFZpZXciLCJfY2FyZFRpdGxlRWxlbWVudCIsInNyYyIsInRleHRDb250ZW50IiwiYWx0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJyZXNldFZhbGlkYXRpb24iLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJjaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJoYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJzb21lIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNhcmRMaXN0RWwiLCJhZGROZXdDYXJkQnV0dG9uIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVFZGl0TW9kYWxDbG9zZSIsInByb2ZpbGVNb2RhbEZvcm0iLCJjYXJkTW9kYWwiLCJjYXJkTW9kYWxDbG9zZSIsImNhcmRGb3JtIiwiY2FyZFRpdGxlSW5wdXQiLCJjYXJkSW1hZ2VJbnB1dCIsInByZXZpZXdJbWFnZU1vZGFsIiwicHJldmlld0ltYWdlSW1hZ2VFbCIsInByZXZpZXdJbWFnZVRleHRFbCIsImNsb3NlSW1hZ2VNb2RhbCIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJvcGVuUG9wdXAiLCJtb2RhbCIsImNsb3NlTW9kYWxFc2NhcGUiLCJjbG9zZU1vZGFsT3ZlcmxheSIsImNsb3NlUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJvcGVuTW9kYWwiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwicmVuZGVyQ2FyZCIsImNhcmREYXRhIiwiY2FyZEVsZW1lbnQiLCJhZGRDYXJkIiwicHJlcGVuZCIsImNhcmRJbnN0YW5jZSIsInZhbHVlIiwidHJpbSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0Il0sInNvdXJjZVJvb3QiOiIifQ==